import Pyro4
from coxlab_eyetracker.gui import EyeTrackerGUI
from threading import Thread


def main():

    # daemon = Pyro4.Daemon()
    ns = Pyro4.locateNS(port=50963)
    # pyro_uri = 'PYRONAME:org.coxlab.eyetracker.controller'
    pyro_uri = ns.lookup('org.coxlab.eyetracker.controller')
    controller = Pyro4.Proxy(pyro_uri)

    print controller

    gui = EyeTrackerGUI(controller)

    # service_daemon_thread = Thread(target=lambda: daemon.requestLoop())
    # service_daemon_thread.start()

    gui.mainloop()


if __name__ == '__main__':
    main()
